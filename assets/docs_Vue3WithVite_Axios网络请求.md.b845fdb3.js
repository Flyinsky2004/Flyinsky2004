import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.dc2d320f.js";const d=JSON.parse('{"title":"Axios网络请求","description":"","frontmatter":{"date":"2023-11-16T11:24:00.000Z","author":"Flyinsky","tags":["Vue"],"categories":["Vue"]},"headers":[],"relativePath":"docs/Vue3WithVite/Axios网络请求.md","filePath":"docs/Vue3WithVite/Axios网络请求.md","lastUpdated":null}'),p={name:"docs/Vue3WithVite/Axios网络请求.md"},o=l(`<h1 id="axios网络请求" tabindex="-1">Axios网络请求 <a class="header-anchor" href="#axios网络请求" aria-label="Permalink to &quot;Axios网络请求&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">Axios</p><p>Axios 是一个基于 <em><a href="https://javascript.info/promise-basics" target="_blank" rel="noreferrer">promise</a></em> 网络请求库，作用于<a href="https://nodejs.org/" target="_blank" rel="noreferrer"><code>node.js</code></a> 和浏览器中。 它是 <em><a href="https://www.lullabot.com/articles/what-is-an-isomorphic-application" target="_blank" rel="noreferrer">isomorphic</a></em> 的(即同一套代码可以运行在浏览器和node.js中)。在服务端它使用原生 node.js <code>http</code> 模块, 而在客户端 (浏览端) 则使用 XMLHttpRequests。</p><p>可查阅的文档：<a href="https://axios-http.com/" target="_blank" rel="noreferrer">官方文档</a>或<a href="https://www.axios-http.cn/" target="_blank" rel="noreferrer">中文文档</a></p></div><p>简而言之，使用javascript书写ajax异步请求用于现代前后端请求会使代码量非常大，严重拖长开发周期，而且很容易出bug。Axios封装了许多函数便于我们直接调用向后端发出请求。当然，我们可以在Vue中进一步封装函数导出全局，最后我们只需要在请求时指定请求路径和提交的数据便能做到与后端的交互。</p><h2 id="_1-安装axios组件库" tabindex="-1">(1)安装Axios组件库 <a class="header-anchor" href="#_1-安装axios组件库" aria-label="Permalink to &quot;(1)安装Axios组件库&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">提示</p><p>如果你阅读了本博客中的Vite Vue 3 Starter并使用其中的快速起步项目，请跳过此步骤，起步项目中已集成并封装好Axios请求库和方法。</p></div><p>我们可以直接使用Node.js中的npm或其他包管理器直接将Axios组件库添加至本地开发环境。</p><p>Using npm:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">install</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">axios</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#795E26;">npm</span><span style="color:#000000;"> </span><span style="color:#A31515;">install</span><span style="color:#000000;"> </span><span style="color:#A31515;">axios</span></span></code></pre></div><p>Using bower:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#FFCB6B;">bower</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">install</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">axios</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#795E26;">bower</span><span style="color:#000000;"> </span><span style="color:#A31515;">install</span><span style="color:#000000;"> </span><span style="color:#A31515;">axios</span></span></code></pre></div><p>Using yarn:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">add</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">axios</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#795E26;">yarn</span><span style="color:#000000;"> </span><span style="color:#A31515;">add</span><span style="color:#000000;"> </span><span style="color:#A31515;">axios</span></span></code></pre></div><h2 id="_2-配置axios基本属性" tabindex="-1">(2)配置Axios基本属性 <a class="header-anchor" href="#_2-配置axios基本属性" aria-label="Permalink to &quot;(2)配置Axios基本属性&quot;">​</a></h2><p>Axios的基本属性配置在src/main.js中书写。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#545454;font-style:italic;">// \`main.js\`</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#EEFFFF;"> axios </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//**</span></span>
<span class="line"><span style="color:#EEFFFF;">	其他组件库引入信息</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span></span>
<span class="line"><span style="color:#EEFFFF;">axios</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">defaults</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">baseURL </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://localhost:8080</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//后端基础url 之后在请求时只用填写路径 Axios会自动以该url为基础添加路径</span></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">config</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">globalProperties</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">$axios </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> axios</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//应用axios配置</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#008000;">// \`main.js\`</span></span>
<span class="line"><span style="color:#AF00DB;">import</span><span style="color:#000000;"> </span><span style="color:#001080;">axios</span><span style="color:#000000;"> </span><span style="color:#AF00DB;">from</span><span style="color:#000000;"> </span><span style="color:#A31515;">&#39;axios&#39;</span></span>
<span class="line"><span style="color:#008000;">//**</span></span>
<span class="line"><span style="color:#000000;">	</span><span style="color:#001080;">其他组件库引入信息</span></span>
<span class="line"><span style="color:#008000;">//</span></span>
<span class="line"><span style="color:#000000;">    </span></span>
<span class="line"><span style="color:#001080;">axios</span><span style="color:#000000;">.</span><span style="color:#001080;">defaults</span><span style="color:#000000;">.</span><span style="color:#001080;">baseURL</span><span style="color:#000000;"> = </span><span style="color:#A31515;">&#39;http://localhost:8080&#39;</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#008000;">//后端基础url 之后在请求时只用填写路径 Axios会自动以该url为基础添加路径</span></span>
<span class="line"><span style="color:#001080;">app</span><span style="color:#000000;">.</span><span style="color:#001080;">config</span><span style="color:#000000;">.</span><span style="color:#001080;">globalProperties</span><span style="color:#000000;">.</span><span style="color:#001080;">$axios</span><span style="color:#000000;"> = </span><span style="color:#001080;">axios</span></span>
<span class="line"><span style="color:#008000;">//应用axios配置</span></span></code></pre></div><h2 id="_3-封装axios方法" tabindex="-1">(3)封装Axios方法 <a class="header-anchor" href="#_3-封装axios方法" aria-label="Permalink to &quot;(3)封装Axios方法&quot;">​</a></h2><p>即是Axios已经帮助我们封装好许多十分方便的请求函数，但在使用过程中还有许多参数需要填写。在实际使用过程中我们发现在使用post和get请求时我们重复书写了许多同样的属性，造成代码冗余。因此我们可以独立封装一个自定义的方法，节省重复书写的步骤，简化代码。</p><p>首先在src目录下新建目录net</p><p>在该目录下新建js文件index.js用于书写封装</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#545454;font-style:italic;">//\`src/net/index.js\`</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#EEFFFF;"> axios </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#EEFFFF;">ElMessage</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">element-plus</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//引入用到的组件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> defaultError </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">()</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> ElMessage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">发生错误，请联系管理员。</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">) </span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//定义默认错误提示语</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> defaultFailure </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">message</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> ElMessage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#EEFFFF;">(message) </span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//后端请求返回失败信息时将其打印</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//post请求示例</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">post</span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">url</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">data</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">success</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">failure</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> defaultFailure</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">error</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> defaultError</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#545454;font-style:italic;">//导入请求路径url,请求数据data,以及失败和成功的操作</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">axios</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">post</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">url</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#545454;font-style:italic;">//使用axios的post请求 传入路径和数据</span></span>
<span class="line"><span style="color:#F07178;">        headers</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">Content-Type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">application/x-www-form-urlencoded</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#545454;font-style:italic;">//设置内容类型</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        withCredentials</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#545454;font-style:italic;">//开启跨域携带cookie 不开启会导致用户登录状态丢失</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">({</span><span style="color:#EEFFFF;font-style:italic;">data</span><span style="color:#89DDFF;">})</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">success</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">success</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">status</span><span style="color:#F07178;">) </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#545454;font-style:italic;">//判断数据内含的请求成功或失败并做出对应前端操作，执行的操作在组件中引用时书写</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">else</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">failure</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">status</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">error</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">url</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">success</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">failure</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> defaultFailure</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">error</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> defaultError</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">axios</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">url</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        withCredentials</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">({</span><span style="color:#EEFFFF;font-style:italic;">data</span><span style="color:#89DDFF;">})</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">success</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">success</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">status</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">else</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">failure</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">status</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">error</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">InternalGet</span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">url</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">success</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">failure</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> defaultFailure</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;font-style:italic;">error</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> defaultError</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">axios</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">url</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        withCredentials</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">response</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">success</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">response</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#EEFFFF;">get</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">post</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">InternalGet</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;"> </span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//导出get post InternalGet方法 供其他组件使用</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#008000;">//\`src/net/index.js\`</span></span>
<span class="line"><span style="color:#AF00DB;">import</span><span style="color:#000000;"> </span><span style="color:#001080;">axios</span><span style="color:#000000;"> </span><span style="color:#AF00DB;">from</span><span style="color:#000000;"> </span><span style="color:#A31515;">&quot;axios&quot;</span><span style="color:#000000;">;</span></span>
<span class="line"><span style="color:#AF00DB;">import</span><span style="color:#000000;"> {</span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">} </span><span style="color:#AF00DB;">from</span><span style="color:#000000;"> </span><span style="color:#A31515;">&quot;element-plus&quot;</span><span style="color:#000000;">;</span></span>
<span class="line"><span style="color:#008000;">//引入用到的组件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0000FF;">const</span><span style="color:#000000;"> </span><span style="color:#795E26;">defaultError</span><span style="color:#000000;"> = () </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> </span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">.</span><span style="color:#795E26;">error</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;发生错误，请联系管理员。&#39;</span><span style="color:#000000;">) </span></span>
<span class="line"><span style="color:#008000;">//定义默认错误提示语</span></span>
<span class="line"><span style="color:#0000FF;">const</span><span style="color:#000000;"> </span><span style="color:#795E26;">defaultFailure</span><span style="color:#000000;"> = (</span><span style="color:#001080;">message</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> </span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">.</span><span style="color:#795E26;">warning</span><span style="color:#000000;">(</span><span style="color:#001080;">message</span><span style="color:#000000;">) </span></span>
<span class="line"><span style="color:#008000;">//后端请求返回失败信息时将其打印</span></span>
<span class="line"><span style="color:#008000;">//post请求示例</span></span>
<span class="line"><span style="color:#0000FF;">function</span><span style="color:#000000;"> </span><span style="color:#795E26;">post</span><span style="color:#000000;">(</span><span style="color:#001080;">url</span><span style="color:#000000;">, </span><span style="color:#001080;">data</span><span style="color:#000000;">, </span><span style="color:#001080;">success</span><span style="color:#000000;">, </span><span style="color:#001080;">failure</span><span style="color:#000000;"> = </span><span style="color:#001080;">defaultFailure</span><span style="color:#000000;">, </span><span style="color:#001080;">error</span><span style="color:#000000;"> = </span><span style="color:#001080;">defaultError</span><span style="color:#000000;">) {</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#008000;">//导入请求路径url,请求数据data,以及失败和成功的操作</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#001080;">axios</span><span style="color:#000000;">.</span><span style="color:#795E26;">post</span><span style="color:#000000;">(</span><span style="color:#001080;">url</span><span style="color:#000000;">, </span><span style="color:#001080;">data</span><span style="color:#000000;">, { </span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#008000;">//使用axios的post请求 传入路径和数据</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#001080;">headers:</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">            </span><span style="color:#A31515;">&quot;Content-Type&quot;</span><span style="color:#001080;">:</span><span style="color:#000000;"> </span><span style="color:#A31515;">&quot;application/x-www-form-urlencoded&quot;</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#000000;">            </span><span style="color:#008000;">//设置内容类型</span></span>
<span class="line"><span style="color:#000000;">        },</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#001080;">withCredentials:</span><span style="color:#000000;"> </span><span style="color:#0000FF;">true</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#008000;">//开启跨域携带cookie 不开启会导致用户登录状态丢失</span></span>
<span class="line"><span style="color:#000000;">    }).</span><span style="color:#795E26;">then</span><span style="color:#000000;">(({</span><span style="color:#001080;">data</span><span style="color:#000000;">}) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#AF00DB;">if</span><span style="color:#000000;"> (</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">success</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">            </span><span style="color:#795E26;">success</span><span style="color:#000000;">(</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">, </span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">status</span><span style="color:#000000;">) </span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#008000;">//判断数据内含的请求成功或失败并做出对应前端操作，执行的操作在组件中引用时书写</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#AF00DB;">else</span></span>
<span class="line"><span style="color:#000000;">            </span><span style="color:#795E26;">failure</span><span style="color:#000000;">(</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">, </span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">status</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">    }).</span><span style="color:#795E26;">catch</span><span style="color:#000000;">(</span><span style="color:#001080;">error</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0000FF;">function</span><span style="color:#000000;"> </span><span style="color:#795E26;">get</span><span style="color:#000000;">(</span><span style="color:#001080;">url</span><span style="color:#000000;">, </span><span style="color:#001080;">success</span><span style="color:#000000;">, </span><span style="color:#001080;">failure</span><span style="color:#000000;"> = </span><span style="color:#001080;">defaultFailure</span><span style="color:#000000;">, </span><span style="color:#001080;">error</span><span style="color:#000000;"> = </span><span style="color:#001080;">defaultError</span><span style="color:#000000;">) {</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#001080;">axios</span><span style="color:#000000;">.</span><span style="color:#795E26;">get</span><span style="color:#000000;">(</span><span style="color:#001080;">url</span><span style="color:#000000;">, {</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#001080;">withCredentials:</span><span style="color:#000000;"> </span><span style="color:#0000FF;">true</span></span>
<span class="line"><span style="color:#000000;">    }).</span><span style="color:#795E26;">then</span><span style="color:#000000;">(({</span><span style="color:#001080;">data</span><span style="color:#000000;">}) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#AF00DB;">if</span><span style="color:#000000;"> (</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">success</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">            </span><span style="color:#795E26;">success</span><span style="color:#000000;">(</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">, </span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">status</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#AF00DB;">else</span></span>
<span class="line"><span style="color:#000000;">            </span><span style="color:#795E26;">failure</span><span style="color:#000000;">(</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">, </span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">status</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">    }).</span><span style="color:#795E26;">catch</span><span style="color:#000000;">(</span><span style="color:#001080;">error</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0000FF;">function</span><span style="color:#000000;"> </span><span style="color:#795E26;">InternalGet</span><span style="color:#000000;">(</span><span style="color:#001080;">url</span><span style="color:#000000;">, </span><span style="color:#001080;">success</span><span style="color:#000000;">, </span><span style="color:#001080;">failure</span><span style="color:#000000;"> = </span><span style="color:#001080;">defaultFailure</span><span style="color:#000000;">, </span><span style="color:#001080;">error</span><span style="color:#000000;"> = </span><span style="color:#001080;">defaultError</span><span style="color:#000000;">) {</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#001080;">axios</span><span style="color:#000000;">.</span><span style="color:#795E26;">get</span><span style="color:#000000;">(</span><span style="color:#001080;">url</span><span style="color:#000000;">, {</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#001080;">withCredentials:</span><span style="color:#000000;"> </span><span style="color:#0000FF;">true</span></span>
<span class="line"><span style="color:#000000;">    }).</span><span style="color:#795E26;">then</span><span style="color:#000000;">((</span><span style="color:#001080;">response</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#795E26;">success</span><span style="color:#000000;">(</span><span style="color:#001080;">response</span><span style="color:#000000;">.</span><span style="color:#001080;">data</span><span style="color:#000000;">);</span></span>
<span class="line"><span style="color:#000000;">    }).</span><span style="color:#795E26;">catch</span><span style="color:#000000;">(</span><span style="color:#001080;">error</span><span style="color:#000000;">);</span></span>
<span class="line"><span style="color:#000000;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#AF00DB;">export</span><span style="color:#000000;"> {</span><span style="color:#001080;">get</span><span style="color:#000000;">, </span><span style="color:#001080;">post</span><span style="color:#000000;">, </span><span style="color:#001080;">InternalGet</span><span style="color:#000000;">} </span></span>
<span class="line"><span style="color:#008000;">//导出get post InternalGet方法 供其他组件使用</span></span></code></pre></div><p>完成上述步骤便封装好函数了，接下来在需要用到网络请求的组件中引入导出的函数直接使用即可</p><h2 id="_4-post和get使用示例" tabindex="-1">(4)Post和Get使用示例 <a class="header-anchor" href="#_4-post和get使用示例" aria-label="Permalink to &quot;(4)Post和Get使用示例&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">注意</p><p>前端发送的请求方法必须与后端接口的请求方法一致，若出现前端请求后端接口请求方式不一致的情况会返回错误代码。</p></div><h3 id="_1-post" tabindex="-1">1.POST <a class="header-anchor" href="#_1-post" aria-label="Permalink to &quot;1.POST&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">POST</p><p>向指定资源提交数据，请求服务器进行处理（例如提交表单或者上传文件）。数据被包含在请求本文中。这个请求可能会建立新的资源或修改现有资源，或二者皆有。每次提交，表单的数据被浏览器用编码到HTTP请求的body里。浏览器发出的POST请求的body主要有两种格式，一种是application/x-www-form-urlencoded用来传输简单的数据，大概就是&quot;key1=value1&amp;key2=value2&quot;这样的格式。另外一种是传文件，会采用multipart/form-data格式。采用后者是因为application/x-www-form-urlencoded的编码方式对于文件这种二进制的数据非常低效。</p><p>简单来说Post请求的使用情景为需要前端用户提交数据给后端，后端根据用户提交的数据返回结果。例如登录、注册、牛客提交运行代码等等。</p></div><p>以下是一个登录post请求示例：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//引入post函数</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">post</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@/net/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#EEFFFF;"> </span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//定义登录数据表单 包括用户名、密码、是否记住登录状态    </span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> form </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#F07178;">remember</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//定义登录函数</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> login </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">()</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">post</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/api/auth/login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      username</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">form</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">username</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      password</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">form</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">password</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      remember</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">form</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">remember</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">message</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#EEFFFF;">ElMessage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">success</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">message</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">message</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#EEFFFF;">ElMessage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名或密码错误，请确认后重试！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#800000;">&lt;script</span><span style="color:#000000;"> </span><span style="color:#E50000;">setup</span><span style="color:#800000;">&gt;</span></span>
<span class="line"><span style="color:#008000;">//引入post函数</span></span>
<span class="line"><span style="color:#AF00DB;">import</span><span style="color:#000000;"> { </span><span style="color:#001080;">post</span><span style="color:#000000;"> } </span><span style="color:#AF00DB;">from</span><span style="color:#000000;"> </span><span style="color:#A31515;">&quot;@/net/index.js&quot;</span><span style="color:#000000;">; </span></span>
<span class="line"><span style="color:#008000;">//定义登录数据表单 包括用户名、密码、是否记住登录状态    </span></span>
<span class="line"><span style="color:#0000FF;">const</span><span style="color:#000000;"> </span><span style="color:#0070C1;">form</span><span style="color:#000000;"> = </span><span style="color:#795E26;">reactive</span><span style="color:#000000;">({</span></span>
<span class="line"><span style="color:#000000;">  </span><span style="color:#001080;">username:</span><span style="color:#000000;"> </span><span style="color:#A31515;">&#39;&#39;</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">  </span><span style="color:#001080;">password:</span><span style="color:#000000;"> </span><span style="color:#A31515;">&#39;&#39;</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">  </span><span style="color:#001080;">remember:</span><span style="color:#000000;"> </span><span style="color:#0000FF;">false</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">})</span></span>
<span class="line"><span style="color:#008000;">//定义登录函数</span></span>
<span class="line"><span style="color:#0000FF;">const</span><span style="color:#000000;"> </span><span style="color:#795E26;">login</span><span style="color:#000000;"> = () </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">  </span><span style="color:#795E26;">post</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;/api/auth/login&#39;</span><span style="color:#000000;">, {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">username:</span><span style="color:#000000;"> </span><span style="color:#001080;">form</span><span style="color:#000000;">.</span><span style="color:#001080;">username</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">password:</span><span style="color:#000000;"> </span><span style="color:#001080;">form</span><span style="color:#000000;">.</span><span style="color:#001080;">password</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">remember:</span><span style="color:#000000;"> </span><span style="color:#001080;">form</span><span style="color:#000000;">.</span><span style="color:#001080;">remember</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">    }, (</span><span style="color:#001080;">message</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">.</span><span style="color:#795E26;">success</span><span style="color:#000000;">(</span><span style="color:#001080;">message</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">    }, (</span><span style="color:#001080;">message</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">.</span><span style="color:#795E26;">warning</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;用户名或密码错误，请确认后重试！&#39;</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">    }</span></span>
<span class="line"><span style="color:#000000;">  )</span></span>
<span class="line"><span style="color:#000000;">}</span></span>
<span class="line"><span style="color:#800000;">&lt;/script&gt;</span></span></code></pre></div><p>Post函数解读：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#82AAFF;">post</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请求路径</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> form</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">username</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> form</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">password</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#F07178;">remember</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> form</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">remember</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#545454;font-style:italic;">//该花括号中填写表单属性 格式如下：</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#545454;font-style:italic;">//后端接受属性名: 组件中定义的数据属性 </span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">},</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">message</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#EEFFFF;">ElMessage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">success</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">message</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#545454;font-style:italic;">//该花括号中填写当后端返回成功状态执行的代码</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">message</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#EEFFFF;">ElMessage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名或密码错误，请确认后重试！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#545454;font-style:italic;">//该花括号中填写当后端返回失败状态执行的代码 例如此处登录账密验证失败提示</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#EEFFFF;">  )</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#795E26;">post</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;请求路径&#39;</span><span style="color:#000000;">, {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">username:</span><span style="color:#000000;"> </span><span style="color:#001080;">form</span><span style="color:#000000;">.</span><span style="color:#001080;">username</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">password:</span><span style="color:#000000;"> </span><span style="color:#001080;">form</span><span style="color:#000000;">.</span><span style="color:#001080;">password</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">remember:</span><span style="color:#000000;"> </span><span style="color:#001080;">form</span><span style="color:#000000;">.</span><span style="color:#001080;">remember</span><span style="color:#000000;">,</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#008000;">//该花括号中填写表单属性 格式如下：</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#008000;">//后端接受属性名: 组件中定义的数据属性 </span></span>
<span class="line"><span style="color:#000000;">    }, (</span><span style="color:#001080;">message</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">.</span><span style="color:#795E26;">success</span><span style="color:#000000;">(</span><span style="color:#001080;">message</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#008000;">//该花括号中填写当后端返回成功状态执行的代码</span></span>
<span class="line"><span style="color:#000000;">    }, (</span><span style="color:#001080;">message</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#001080;">ElMessage</span><span style="color:#000000;">.</span><span style="color:#795E26;">warning</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;用户名或密码错误，请确认后重试！&#39;</span><span style="color:#000000;">)</span></span>
<span class="line"><span style="color:#000000;">    </span><span style="color:#008000;">//该花括号中填写当后端返回失败状态执行的代码 例如此处登录账密验证失败提示</span></span>
<span class="line"><span style="color:#000000;">    }</span></span>
<span class="line"><span style="color:#000000;">  )</span></span></code></pre></div><h3 id="_2-get" tabindex="-1">2.GET <a class="header-anchor" href="#_2-get" aria-label="Permalink to &quot;2.GET&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">GET</p><p>向指定的资源发出“显示”请求。使用GET方法应该只用在读取资料，而不应当被用于产生“<a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#%E5%89%AF%E4%BD%9C%E7%94%A8" target="_blank" rel="noreferrer">副作用</a>”的操作中，例如在<a href="https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" target="_blank" rel="noreferrer">网络应用程序</a>中。其中一个原因是GET可能会被<a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E7%88%AC%E8%9F%B2" target="_blank" rel="noreferrer">网络爬虫</a>等随意访问。参见<a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#%E5%AE%89%E5%85%A8%E6%96%B9%E6%B3%95" target="_blank" rel="noreferrer">安全方法</a>。浏览器直接发出的GET只能由一个url触发。GET上要在url之外带一些参数就只能依靠url上附带querystring。</p><p>简单来说，GET请求使用情景更倾向于只需要直接访问路径，不需要向后端提交任何路径，后端便会将对应数据返回至前端。</p></div><p>以下是一个GET请求示例，情景为网页初始化时调用的向后端请求登录用户的个人信息：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#82AAFF;">getMyInfo</span><span style="color:#EEFFFF;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">InternalGet</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/api/user/me</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#EEFFFF;">user</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#EEFFFF;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#545454;font-style:italic;">// 在回调函数中输出日志</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#795E26;">getMyInfo</span><span style="color:#000000;">() {</span></span>
<span class="line"><span style="color:#000000;">      </span><span style="color:#795E26;">InternalGet</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;/api/user/me&#39;</span><span style="color:#000000;">, (</span><span style="color:#001080;">data</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#0000FF;">this</span><span style="color:#000000;">.</span><span style="color:#001080;">user</span><span style="color:#000000;"> = </span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">;</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#001080;">console</span><span style="color:#000000;">.</span><span style="color:#795E26;">log</span><span style="color:#000000;">(</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">); </span><span style="color:#008000;">// 在回调函数中输出日志</span></span>
<span class="line"><span style="color:#000000;">      });</span></span>
<span class="line"><span style="color:#000000;">}</span></span></code></pre></div><p>InternalGet函数解读：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-darker vp-code-dark"><code><span class="line"><span style="color:#82AAFF;">InternalGet</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请求路径</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    	</span><span style="color:#545454;font-style:italic;">//该花括号下填写拿到数据后执行的代码</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#EEFFFF;">user</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#EEFFFF;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#EEFFFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">message</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#545454;font-style:italic;">// 在回调函数中输出日志</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><pre class="shiki light-plus vp-code-light"><code><span class="line"><span style="color:#795E26;">InternalGet</span><span style="color:#000000;">(</span><span style="color:#A31515;">&#39;请求路径&#39;</span><span style="color:#000000;">, (</span><span style="color:#001080;">data</span><span style="color:#000000;">) </span><span style="color:#0000FF;">=&gt;</span><span style="color:#000000;"> {</span></span>
<span class="line"><span style="color:#000000;">    	</span><span style="color:#008000;">//该花括号下填写拿到数据后执行的代码</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#0000FF;">this</span><span style="color:#000000;">.</span><span style="color:#001080;">user</span><span style="color:#000000;"> = </span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">;</span></span>
<span class="line"><span style="color:#000000;">        </span><span style="color:#001080;">console</span><span style="color:#000000;">.</span><span style="color:#795E26;">log</span><span style="color:#000000;">(</span><span style="color:#001080;">data</span><span style="color:#000000;">.</span><span style="color:#001080;">message</span><span style="color:#000000;">); </span><span style="color:#008000;">// 在回调函数中输出日志</span></span>
<span class="line"><span style="color:#000000;">});</span></span></code></pre></div>`,35),e=[o];function t(c,r,F,y,i,D){return a(),n("div",null,e)}const u=s(p,[["render",t]]);export{d as __pageData,u as default};
